<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.66.0" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Docker :: nray</title>

    
    <link href="/css/nucleus.css?1583617846" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1583617846" rel="stylesheet">
    <link href="/css/hybrid.css?1583617846" rel="stylesheet">
    <link href="/css/featherlight.min.css?1583617846" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1583617846" rel="stylesheet">
    <link href="/css/auto-complete.css?1583617846" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1583617846" rel="stylesheet">
    <link href="/css/theme.css?1583617846" rel="stylesheet">
    <link href="/css/hugo-theme.css?1583617846" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1583617846" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1583617846"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/installation/docker/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1583617846"></script>
<script type="text/javascript" src="/js/auto-complete.js?1583617846"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/nray-scanner.org\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1583617846"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/introduction/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/introduction/">
          <b>1. </b>Introduction
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/installation/" title="Installation" class="dd-item 
        parent
        
        
        ">
      <a href="/installation/">
          <b>2. </b>Installation
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/installation/prebuilt/" title="Prebuilt Binaries" class="dd-item ">
        <a href="/installation/prebuilt/">
        Prebuilt Binaries
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/installation/docker/" title="Docker" class="dd-item active">
        <a href="/installation/docker/">
        Docker
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/installation/build-your-own/" title="Build Your Own" class="dd-item ">
        <a href="/installation/build-your-own/">
        Build Your Own
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/usage/" title="Usage" class="dd-item 
        
        
        
        ">
      <a href="/usage/">
          <b>3. </b>Usage
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/usage/configuration-file/" title="Configuration file (server)" class="dd-item 
        
        
        
        ">
      <a href="/usage/configuration-file/">
          <b>3.1 </b>Configuration file (server)
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/basic-settings/" title="Basic settings" class="dd-item ">
        <a href="/usage/configuration-file/basic-settings/">
        <b>3.1.1 </b>Basic settings
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/tls/" title="TLS" class="dd-item ">
        <a href="/usage/configuration-file/tls/">
        <b>3.1.2 </b>TLS
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/internal/" title="Internal" class="dd-item ">
        <a href="/usage/configuration-file/internal/">
        <b>3.1.3 </b>Internal
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/usage/configuration-file/targetgenerator/" title="targetgenerator" class="dd-item 
        
        
        
        ">
      <a href="/usage/configuration-file/targetgenerator/">
          <b>3.1.4.0 </b>targetgenerator
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/targetgenerator/standard/" title="standard" class="dd-item ">
        <a href="/usage/configuration-file/targetgenerator/standard/">
        <b>3.1.4.1 </b>standard
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/targetgenerator/certificatetransparency/" title="certificatetransparency" class="dd-item ">
        <a href="/usage/configuration-file/targetgenerator/certificatetransparency/">
        <b>3.1.4.2 </b>certificatetransparency
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/targetgenerator/ldap/" title="ldap" class="dd-item ">
        <a href="/usage/configuration-file/targetgenerator/ldap/">
        <b>3.1.4.3 </b>ldap
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/usage/configuration-file/scannerconfig/" title="scannerconfig" class="dd-item 
        
        
        
        ">
      <a href="/usage/configuration-file/scannerconfig/">
          <b>3.1.5.0 </b>scannerconfig
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/scannerconfig/tcp/" title="tcp" class="dd-item ">
        <a href="/usage/configuration-file/scannerconfig/tcp/">
        <b>3.1.5.1 </b>tcp
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/scannerconfig/udp/" title="udp" class="dd-item ">
        <a href="/usage/configuration-file/scannerconfig/udp/">
        <b>3.1.5.2 </b>udp
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/usage/configuration-file/scannerconfig/zgrab2/" title="zgrab2" class="dd-item 
        
        
        
        ">
      <a href="/usage/configuration-file/scannerconfig/zgrab2/">
          <b>3.1.5.3 </b>zgrab2
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/scannerconfig/zgrab2/ssh/" title="ssh" class="dd-item ">
        <a href="/usage/configuration-file/scannerconfig/zgrab2/ssh/">
        <b>3.1.5.3.1 </b>ssh
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/scannerconfig/zgrab2/http/" title="http" class="dd-item ">
        <a href="/usage/configuration-file/scannerconfig/zgrab2/http/">
        <b>3.1.5.3.2 </b>http
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/usage/configuration-file/events/" title="events" class="dd-item 
        
        
        
        ">
      <a href="/usage/configuration-file/events/">
          <b>3.1.6.0 </b>events
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/events/terminal/" title="terminal" class="dd-item ">
        <a href="/usage/configuration-file/events/terminal/">
        <b>3.1.6.1 </b>terminal
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/events/json-file/" title="json-file" class="dd-item ">
        <a href="/usage/configuration-file/events/json-file/">
        <b>3.1.6.2 </b>json-file
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/configuration-file/events/elasticsearch/" title="elasticsearch" class="dd-item ">
        <a href="/usage/configuration-file/events/elasticsearch/">
        <b>3.1.6.3 </b>elasticsearch
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/flags/" title="Command line flags (node)" class="dd-item ">
        <a href="/usage/flags/">
        <b>3.2 </b>Command line flags (node)
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/pooling/" title="Pooling" class="dd-item ">
        <a href="/usage/pooling/">
        <b>3.3 </b>Pooling
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/tls-setup/" title="TLS setup" class="dd-item ">
        <a href="/usage/tls-setup/">
        <b>3.4 </b>TLS setup
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/usage/examples/" title="Examples" class="dd-item ">
        <a href="/usage/examples/">
        <b>3.5 </b>Examples
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/contribute/" title="Contribute" class="dd-item 
        
        
        
        ">
      <a href="/contribute/">
          <b>4. </b>Contribute
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p><a href="https://github.com/nray-scanner/nray"><i class="fab fa-github"></i> Github</a></p>
<p><a href="https://twitter.com/michael_eder_"><i class="fab fa-twitter"></i> Twitter</a></p>

<br>

<p>Built with <i class="fas fa-heart"></i>, <i class="fas fa-coffee"></i>  and <i class="fas fa-beer"></i> by <a href="https://michael-eder.net">Michael Eder</a>.</p>

<br>

<p>nray is licensed under <a href="https://www.gnu.org/licenses/gpl-3.0.en.html">GPLv3</a>.</p>
<p>Homepage and documentation are licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i><i class="fab fa-creative-commons-sa"></i> CC BY-SA 4.0</a>.</p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/nray-scanner/website/edit/master/content/installation/docker.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>nray</a> > <a href='/installation/'>Installation</a> > Docker
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Docker
            </h1>
          

        



<p>Starting with 1.1, there are official Docker images and care is taken to support running nray from containered environments.</p>
<h4 id="running-nray-from-docker">Running nray from Docker</h4>
<p>Nray&rsquo;s source repository contains two Dockerfiles that are used to build the images also found on Docker Hub.
The first one is based on Docker&rsquo;s scratch image and since there is no user space apart from nray, it is really small.
The second one builds upon Debian, giving the user the ability to access the system interactively which is often more desirable than having a small container.</p>
<h5 id="example-server">Example: Server</h5>
<p>In order to run a nray server from a container, a few precautions have to be taken:</p>
<ul>
<li>Make sure to bind to 0.0.0.0 inside the container (<code>host: &quot;0.0.0.0&quot;</code>), otherwise it is not possible to connect to the nray instance.</li>
<li>Make sure to read configuration and write results to a directory that exists within the container and is mounted to the outside world.
The images contain the directory <code>/nray-data/</code> which is readable and writable for the nray user.
In this example, <code>/tmp/nray</code> is mounted into the container - now, the nray process inside the container is able to read the configuration and if the output is configured to be written to <code>/nray-data/</code>, it can be read by the host.</li>
</ul>
<p>A command that spawns a container running a nray server with respective directories mounted and ports forwarded may look like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --rm --mount type<span style="color:#f92672">=</span>bind,src<span style="color:#f92672">=</span>/tmp/nray,dst<span style="color:#f92672">=</span>/nray-data -p 8601:8601 nrayscanner/nray-scratch server -c /nray-data/nray-conf.yaml
</code></pre></div><h5 id="example-node">Example: Node</h5>
<p>Compared to the server, nodes are a simple case since they are able to run without binding to ports or accessing the disk.
Therefore, running a node can be as simple as:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --rm nrayscanner/nray-debian node -s &lt;server URL&gt; -p &lt;server port&gt;
</code></pre></div><h4 id="building-nray-docker-containers">Building nray docker containers</h4>
<p>Please refer to the Dockerfiles in the <code>docker/</code> directory that can be found in the source repository.
The creation of the images is done via the <code>docker</code> target in the Makefile.</p>
<h4 id="building-nray-binaries-from-a-docker-container">Building nray binaries from a docker container</h4>
<p>In order to build nray within a docker container, e.g. to avoid setting up a Go build environment on your own or because you are in a hurry and it is a one-liner, run the following command in the root of the nray source code repository:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker run --rm -v <span style="color:#e6db74">&#34;</span>$PWD<span style="color:#e6db74">&#34;</span>:/nray -w /nray golang:latest make release
</code></pre></div><p>If you are only interested in binaries for a specific architecture, you may alter the make target from <code>release</code> to any other supported value, e.g. <code>build-x64-windows</code>.</p>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/installation/prebuilt/" title="Prebuilt Binaries"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/installation/build-your-own/" title="Build Your Own" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1583617846"></script>
    <script src="/js/perfect-scrollbar.min.js?1583617846"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1583617846"></script>
    <script src="/js/jquery.sticky.js?1583617846"></script>
    <script src="/js/featherlight.min.js?1583617846"></script>
    <script src="/js/html5shiv-printshiv.min.js?1583617846"></script>
    <script src="/js/highlight.pack.js?1583617846"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1583617846"></script>
    <script src="/js/learn.js?1583617846"></script>
    <script src="/js/hugo-learn.js?1583617846"></script>

    <link href="/mermaid/mermaid.css?1583617846" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1583617846"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

